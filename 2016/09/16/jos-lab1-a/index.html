<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>MIT 6.828 JOS课程1：HW Boot xv6 | 缘生故如幻</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Homework: boot xv6作业链接：https://pdos.csail.mit.edu/6.828/2016/homework/xv6-boot.html
查看地址这里是为了查看进入内核的入口函数，运行命令如下：
cd /opt/xv6-publicnm kernel | grep _start
可以得到如下输出：
jiyou-qt@jiyou-qt:~/writeos/xv6-pub">
<meta property="og:type" content="article">
<meta property="og:title" content="MIT 6.828 JOS课程1：HW Boot xv6">
<meta property="og:url" content="https://jiyou.github.io/blog/2016/09/16/jos-lab1-a/index.html">
<meta property="og:site_name" content="缘生故如幻">
<meta property="og:description" content="Homework: boot xv6作业链接：https://pdos.csail.mit.edu/6.828/2016/homework/xv6-boot.html
查看地址这里是为了查看进入内核的入口函数，运行命令如下：
cd /opt/xv6-publicnm kernel | grep _start
可以得到如下输出：
jiyou-qt@jiyou-qt:~/writeos/xv6-pub">
<meta property="og:image" content="https://jiyou.github.io/blog/blog/img/gdb-start.jpeg">
<meta property="og:image" content="https://jiyou.github.io/blog/blog/img/lab1.a/lab1.a.boot-up.mem.jpeg.001.jpeg.001.jpeg.001.jpeg">
<meta property="og:image" content="https://jiyou.github.io/blog/blog/img/lab1.a/lab1.a.boot-up.mem.jpeg.001.jpeg.001.jpeg.002.jpeg">
<meta property="og:updated_time" content="2016-09-16T02:20:31.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MIT 6.828 JOS课程1：HW Boot xv6">
<meta name="twitter:description" content="Homework: boot xv6作业链接：https://pdos.csail.mit.edu/6.828/2016/homework/xv6-boot.html
查看地址这里是为了查看进入内核的入口函数，运行命令如下：
cd /opt/xv6-publicnm kernel | grep _start
可以得到如下输出：
jiyou-qt@jiyou-qt:~/writeos/xv6-pub">
<meta name="twitter:image" content="https://jiyou.github.io/blog/blog/img/gdb-start.jpeg">
  
    <link rel="alternative" href="/atom.xml" title="缘生故如幻" type="application/atom+xml">
  
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/blog//img/head.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">You Ji</a></h1>
		</hgroup>

		
		<p class="header-subtitle">心言直故，如是乃至始终地位，中间永无诸委曲相。</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						<li>Links</li>
						
						
						<li>Über</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/blog/">主页</a></li>
				        
							<li><a href="/blog/archives">所有文章</a></li>
				        
							<li><a href="/blog/categories/随笔">随笔</a></li>
				        
							<li><a href="/blog/categories/xv6">xv6</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="#" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/blog/tags/JOS/" style="font-size: 10px;">JOS</a> <a href="/blog/tags/MIT-6-828/" style="font-size: 10px;">MIT 6.828</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">奥巴马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">卡卡的美丽传说</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">本泽马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">吉格斯的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">习大大大不同</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">托蒂的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">You Ji</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img lazy-src="/blog//img/head.png" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">You Ji</h1>
			</hgroup>
			
			<p class="header-subtitle">心言直故，如是乃至始终地位，中间永无诸委曲相。</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/blog/">主页</a></li>
		        
					<li><a href="/blog/archives">所有文章</a></li>
		        
					<li><a href="/blog/categories/随笔">随笔</a></li>
		        
					<li><a href="/blog/categories/xv6">xv6</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="#" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-jos-lab1-a" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/blog/2016/09/16/jos-lab1-a/" class="article-date">
  	<time datetime="2016-09-15T23:28:32.000Z" itemprop="datePublished">2016-09-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      MIT 6.828 JOS课程1：HW Boot xv6
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/JOS/">JOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/MIT-6-828/">MIT 6.828</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/blog/categories/xv6/">xv6</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Homework-boot-xv6"><a href="#Homework-boot-xv6" class="headerlink" title="Homework: boot xv6"></a>Homework: boot xv6</h1><p>作业链接：<a href="https://pdos.csail.mit.edu/6.828/2016/homework/xv6-boot.html" target="_blank" rel="external">https://pdos.csail.mit.edu/6.828/2016/homework/xv6-boot.html</a></p>
<h1 id="查看地址"><a href="#查看地址" class="headerlink" title="查看地址"></a>查看地址</h1><p>这里是为了查看进入内核的入口函数，运行命令如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"><span class="built_in">cd</span> /opt/xv6-public</div><div class="line">nm kernel | grep _start</div></pre></td></tr></table></figure>
<p>可以得到如下输出：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">jiyou-qt@jiyou-qt:~/writeos/xv6-public$ nm kernel | grep _start</div><div class="line">8010a48c D _binary_entryother_start</div><div class="line">8010a460 D _binary_initcode_start</div><div class="line">0010000c T _start</div></pre></td></tr></table></figure>
<p>可以看到，最后一行的起始地址为<code>kernel</code>的入口函数地址。</p>
<h1 id="Task-1-GDB入口地址"><a href="#Task-1-GDB入口地址" class="headerlink" title="Task 1. GDB入口地址"></a>Task 1. GDB入口地址</h1><p>这里需要打开两个终端，一个作为<code>gdb-server</code>，一个是作为<code>gdb-client</code>。这个比较简单，实际上是通过实例说明一下gdb的使用。不过在前面的博文中已经介绍过了。</p>
<p><strong>gdb-server</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"><span class="built_in">cd</span> /opt/xv6-public</div><div class="line"></div><div class="line"><span class="comment"># 下面的命令只需要选择一个来执行。</span></div><div class="line"></div><div class="line"><span class="comment"># Choice 1. 如果ubuntu有UI界面，并且处在UI界面中，运行如下命令。</span></div><div class="line">make qemu-gdb</div><div class="line"></div><div class="line"><span class="comment"># Choice 2. 如果ubuntu没有UI界面，那么运行:</span></div><div class="line">make qemu-nox-gdb</div></pre></td></tr></table></figure></p>
<p><strong>gdb-client</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"><span class="built_in">cd</span> /opt/xv6-public</div><div class="line">gdb</div></pre></td></tr></table></figure></p>
<p>可以得到如下输出：</p>
<p><img src="/blog/img/gdb-start.jpeg" alt=""></p>
<h1 id="Task-2-What-is-on-the-stack"><a href="#Task-2-What-is-on-the-stack" class="headerlink" title="Task 2. What is on the stack?"></a>Task 2. What is on the stack?</h1><p>在gdb中查看寄存器可以使用如下命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">(gdb) info reg</div><div class="line">...</div></pre></td></tr></table></figure>
<p>查看栈指针的内容：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">(gdb) x/24x <span class="variable">$esp</span></div><div class="line">...</div><div class="line">(gdb)</div></pre></td></tr></table></figure>
<p>作业内容：英文原文</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Write a short (3-5 word) comment next to each non-zero value on the stack explaining what it is. Which part of the stack printout is actually the stack? (Hint: not all of it.)</div><div class="line"></div><div class="line">You might find it convenient to consult the files bootasm.S, bootmain.c, and bootblock.asm (which contains the output of the compiler/assembler). The reference page has pointers to x86 assembly documentation, if you are wondering about the semantics of a particular instruction. Your goal is to understand and explain the contents of the stack that you saw above, just after entering the xv6 kernel. One way to achieve this would be to observe how and where the stack gets setup during early boot and then track the changes to the stack up until the point you are interested in. Here are some questions to help you along:</div></pre></td></tr></table></figure>
<ul>
<li>Begin by restarting qemu and gdb, and set a break-point at 0x7c00, the start of the boot block (bootasm.S). Single step through the instructions (type si at the gdb prompt). Where in bootasm.S is the stack pointer initialized? (Single step until you see an instruction that moves a value into %esp, the register for the stack pointer.)</li>
<li>Single step through the call to bootmain; what is on the stack now?</li>
<li>What do the first assembly instructions of bootmain do to the stack? Look for bootmain in bootblock.asm.</li>
<li>Continue tracing via gdb (using breakpoints if necessary – see hint below) and look for the call that changes eip to 0x10000c. What does that call do to the stack? (Hint: Think about what this call is trying to accomplish in the boot sequence and try to identify this point in bootmain.c, and the corresponding instruction in the bootmain code in bootblock.asm. This might help you set suitable breakpoints to speed things up.)</li>
</ul>
<p>翻译如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">写一个简单的注释来说明一下栈中每个非0的数据表示啥意思。Stack输出的哪部分是真正表示了这个stack。</div><div class="line"></div><div class="line">可能会发现比较容易查询到文件bootasm.S, bootmain.c, bootblock.asm，这三个文件包含了编译器与汇编器的输出。参考链接(https://pdos.csail.mit.edu/6.828/2016/reference.html)里面包含了x86汇编语言的文档。如果你对某些指令有疑问，那么下面这些问题可以帮助到你：</div><div class="line"></div><div class="line">Start by setting a break-point at 0x7c00, the start of the boot block (bootasm.S).</div><div class="line"></div><div class="line">1. 在0x7c00处设置一个断点，应该可以发现这是启动的第一条指令。bootasm.S的开始执行的地方。</div><div class="line"></div><div class="line">2. 接下来，利用gdb中的si命令单步执行。找到bootasm.S中stack是在哪里初始化的？(注意：单步执行，直到你找到某条指令把某个值移动到了%esp寄存器中。%esp也就是栈指针。)</div><div class="line"></div><div class="line">3. 当代码跳转到bootmain的时候，这个时候栈里面又存放的是什么？</div><div class="line"></div><div class="line">4. 在bootmain里面的第一条汇编指令对这个stack做啥了？快去查看bootblock.asm吧，bootmain就在里面。</div><div class="line"></div><div class="line">5. 查看在bootblock.asm里面的bootmain，找到调用call。这个call会把%eip指向0x10000c。这个call对栈又做了啥？</div><div class="line"></div><div class="line">6. 提交注决：x/24x %esp的有效输出，应该就是说非0的那一部分，以及你的comment。把这个作业写到hwN.txt里面。N表示的是第几次作业。</div></pre></td></tr></table></figure>
<h1 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h1><h2 id="问题1"><a href="#问题1" class="headerlink" title="问题1"></a>问题1</h2><p>阅读<strong>李忠《x86汇编语言－从实模式到保护模式》</strong>第五章，会找到最好的答案。</p>
<h2 id="问题2"><a href="#问题2" class="headerlink" title="问题2"></a>问题2</h2><p>问题是需要找到<code>bootasm.S</code>中在哪里把<code>stack</code>给初始化了？代码比较容易看懂。也就是在<code>bootasm.S</code>的</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"># Set up the stack pointer and call into C.</div><div class="line">movl    $start, %esp   &lt;-- 就在这里</div><div class="line">call    bootmain</div></pre></td></tr></table></figure>
<p>但是这前后的原理还是需要自己摸索。</p>
<h3 id="Q-2-1-刚启动的情况"><a href="#Q-2-1-刚启动的情况" class="headerlink" title="Q.2.1 刚启动的情况"></a>Q.2.1 刚启动的情况</h3><p>利用<code>gdb</code>进行调试：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">(gdb) br * 0x7c00    <span class="comment"># &lt;-- 设置断点</span></div><div class="line">Breakpoint 1 at 0x7c00</div><div class="line">(gdb) c              <span class="comment"># &lt;-- 让程序开始执行到断点处，停下来。</span></div><div class="line">Continuing.</div><div class="line">[   0:7c00] =&gt; 0x7c00:	cli</div><div class="line"></div><div class="line">Breakpoint 1, 0x00007c00 <span class="keyword">in</span> ?? ()</div><div class="line">(gdb) si</div><div class="line">[   0:7c01] =&gt; 0x7c01:	xor    %ax,%ax</div><div class="line">0x00007c01 <span class="keyword">in</span> ?? ()</div><div class="line">(gdb) info reg</div><div class="line">eax            0xaa55	43605</div><div class="line">ecx            0x0	0</div><div class="line">edx            0x80	128</div><div class="line">ebx            0x0	0</div><div class="line">esp            0x6f2c	0x6f2c  <span class="comment"># &lt;-- 注意esp的值。</span></div><div class="line">ebp            0x0	0x0</div><div class="line">esi            0x0	0</div><div class="line">edi            0x0	0</div><div class="line">eip            0x7c01	0x7c01</div><div class="line">eflags         0x2	[ ]</div><div class="line">cs             0x0	0</div><div class="line">ss             0x0	0          <span class="comment"># &lt;-- 注意ss的值。</span></div><div class="line">ds             0x0	0</div><div class="line">es             0x0	0</div><div class="line">fs             0x0	0</div><div class="line">gs             0x0	0</div><div class="line">(gdb)</div></pre></td></tr></table></figure>
<p>当前还在实模式下。<code>0x6f2c</code>处在<code>0x7c00</code>之下，因此，形成的结构如下：</p>
<p><img src="/blog/img/lab1.a/lab1.a.boot-up.mem.jpeg.001.jpeg.001.jpeg.001.jpeg" alt=""></p>
<h3 id="Q-2-2-设置ss栈段寄存器"><a href="#Q-2-2-设置ss栈段寄存器" class="headerlink" title="Q.2.2 设置ss栈段寄存器"></a>Q.2.2 设置ss栈段寄存器</h3> <figure class="highlight c"><table><tr><td class="code"><pre><div class="line">mov %ax, %ss</div></pre></td></tr></table></figure>
<p> 得到的结果如下：</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"> (gdb) si</div><div class="line">=&gt; 0x7c3b:	mov    <span class="variable">$0x0</span>,%ax</div><div class="line">0x00007c3b <span class="keyword">in</span> ?? ()</div><div class="line">(gdb) info reg</div><div class="line">eax            0x10	16</div><div class="line">ecx            0x0	0</div><div class="line">edx            0x80	128</div><div class="line">ebx            0x0	0</div><div class="line">esp            0x6f2c	0x6f2c</div><div class="line">ebp            0x0	0x0</div><div class="line">esi            0x0	0</div><div class="line">edi            0x0	0</div><div class="line">eip            0x7c3b	0x7c3b</div><div class="line">eflags         0x6	[ PF ]</div><div class="line">cs             0x8	8</div><div class="line">ss             0x10	16   &lt;-- 此时已经进入保护模式，这里选中第二个段描述符。</div><div class="line">ds             0x10	16</div><div class="line">es             0x10	16</div><div class="line">fs             0x0	0</div><div class="line">gs             0x0	0</div><div class="line">(gdb)</div></pre></td></tr></table></figure>
<p>选择第2个段描述符之后，接下来开始执行：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><div class="line">mov    $<span class="number">0x7c00</span>,%esp  <span class="comment">// 源代码是mov $start, %esp。由于start是程序起始位置。而</span></div><div class="line">						    <span class="comment">// 程序是被加载到0x7c00处的。所以start=0x7c00。</span></div></pre></td></tr></table></figure>
<p>得到的结果如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">(gdb) info reg</div><div class="line">eax            0x0	0</div><div class="line">ecx            0x0	0</div><div class="line">edx            0x80	128</div><div class="line">ebx            0x0	0</div><div class="line">esp            0x7c00	0x7c00   <span class="comment"># &lt;-- esp指向0x7c00。</span></div><div class="line">ebp            0x0	0x0</div><div class="line">esi            0x0	0</div><div class="line">edi            0x0	0</div><div class="line">eip            0x7c48	0x7c48</div><div class="line">eflags         0x6	[ PF ]</div><div class="line">cs             0x8	8</div><div class="line">ss             0x10	16</div><div class="line">ds             0x10	16</div><div class="line">es             0x10	16</div><div class="line">fs             0x0	0</div><div class="line">gs             0x0	0</div><div class="line">(gdb)</div></pre></td></tr></table></figure>
<p>如果不能<code>debug</code>，其实直接阅读<code>bootblock.asm</code>也可以看出如下代码：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"><span class="comment"># Set up the stack pointer and call into C.</span></div><div class="line">movl    <span class="variable">$start</span>, %esp</div><div class="line">  7c43:   bc 00 7c 00 00          mov    <span class="variable">$0x7c00</span>,%esp</div></pre></td></tr></table></figure>
<h3 id="Q-2-3-call-bootmain"><a href="#Q-2-3-call-bootmain" class="headerlink" title="Q.2.3 call bootmain"></a>Q.2.3 call bootmain</h3><p>接下来开始准备<code>call bootmain</code>。形成的结构如下所示：</p>
<p><img src="/blog/img/lab1.a/lab1.a.boot-up.mem.jpeg.001.jpeg.001.jpeg.002.jpeg" alt=""></p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/blog/2016/09/16/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Mac上搭建Hexo+Github博客</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="https://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>







  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="post-jos-lab1-a" data-title="MIT 6.828 JOS课程1：HW Boot xv6" data-url="https://jiyou.github.io/blog/blog/2016/09/16/jos-lab1-a/"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'undefined'};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
      </script>
    <!-- 多说公共JS代码 end -->
  </section>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 You Ji
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    

<script>
	var yiliaConfig = {
		fancybox: false,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: /blog/
	}
</script>
<script src="/blog/js/require-2.1.6_jquery-1.9.1.min.js"></script>
<script src="/blog/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

</script>



  </div>
</body>
</html>